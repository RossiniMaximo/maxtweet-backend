"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/token";
exports.ids = ["pages/api/auth/token"];
exports.modules = {

/***/ "date-fns":
/*!***************************!*\
  !*** external "date-fns" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("date-fns");

/***/ }),

/***/ "firebase-admin":
/*!*********************************!*\
  !*** external "firebase-admin" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("firebase-admin");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "micro-method-router":
/*!**************************************!*\
  !*** external "micro-method-router" ***!
  \**************************************/
/***/ ((module) => {

module.exports = require("micro-method-router");

/***/ }),

/***/ "sib-api-v3-sdk":
/*!*********************************!*\
  !*** external "sib-api-v3-sdk" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("sib-api-v3-sdk");

/***/ }),

/***/ "random-int":
/*!*****************************!*\
  !*** external "random-int" ***!
  \*****************************/
/***/ ((module) => {

module.exports = import("random-int");;

/***/ }),

/***/ "(api)/./controllers/auth.ts":
/*!*****************************!*\
  !*** ./controllers/auth.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"authenticate\": () => (/* binding */ authenticate),\n/* harmony export */   \"findOrCreate\": () => (/* binding */ findOrCreate),\n/* harmony export */   \"sendCode\": () => (/* binding */ sendCode)\n/* harmony export */ });\n/* harmony import */ var models_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! models/auth */ \"(api)/./models/auth.ts\");\n/* harmony import */ var models_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! models/user */ \"(api)/./models/user.ts\");\n/* harmony import */ var random_int__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! random-int */ \"random-int\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! date-fns */ \"date-fns\");\n/* harmony import */ var date_fns__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(date_fns__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lib_jwt__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lib/jwt */ \"(api)/./lib/jwt/index.ts\");\n/* harmony import */ var controllers_email__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! controllers/email */ \"(api)/./controllers/email.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([random_int__WEBPACK_IMPORTED_MODULE_2__]);\nrandom_int__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\nasync function findOrCreate(email, fullname) {\n    const exists = await models_auth__WEBPACK_IMPORTED_MODULE_0__.Auth.findByEmail(email);\n    if (exists) {\n        return exists;\n    }\n    let generatedId = (0,random_int__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(10000, 99999);\n    const user = await models_user__WEBPACK_IMPORTED_MODULE_1__.User.createUser({\n        email,\n        fullname,\n        pics: {\n            profilePicture: \"\",\n            coverPicture: \"\"\n        },\n        description: \"\",\n        tweets: null,\n        feed: null,\n        followers: [\n            generatedId\n        ],\n        following: null,\n        likes: null,\n        saves: null,\n        replies: null,\n        generatedId: generatedId\n    });\n    const auth = await models_auth__WEBPACK_IMPORTED_MODULE_0__.Auth.createAuth({\n        email,\n        code: null,\n        expiration: null,\n        userId: user.id\n    });\n    return auth;\n}\nasync function sendCode(email, fullname) {\n    const auth = await findOrCreate(email, fullname);\n    if (auth) {\n        let code = (0,random_int__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(10000, 99999);\n        const expiration = (0,date_fns__WEBPACK_IMPORTED_MODULE_3__.addMinutes)(new Date(), 20);\n        auth.data.code = code;\n        auth.data.expiration = expiration;\n        await auth.push();\n        (0,controllers_email__WEBPACK_IMPORTED_MODULE_5__.mailSender)({\n            email,\n            fullname,\n            code\n        });\n        return true;\n    } else {\n        return \"Authentication failed.\";\n    }\n}\nasync function authenticate(email, code) {\n    const auth = await models_auth__WEBPACK_IMPORTED_MODULE_0__.Auth.getByEmailAndCode(email, code);\n    if (auth) {\n        auth.data.code = null, auth.data.expiration = null;\n        await auth.push();\n        const token = (0,lib_jwt__WEBPACK_IMPORTED_MODULE_4__.createToken)(auth.id);\n        return {\n            token\n        };\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9jb250cm9sbGVycy9hdXRoLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBbUM7QUFDQTtBQUNJO0FBQ0Q7QUFDQTtBQUNTO0FBRXhDLGVBQWVNLFlBQVksQ0FBQ0MsS0FBYSxFQUFFQyxRQUFnQixFQUFFO0lBQ2xFLE1BQU1DLE1BQU0sR0FBRyxNQUFNVCx5REFBZ0IsQ0FBQ08sS0FBSyxDQUFDO0lBQzVDLElBQUlFLE1BQU0sRUFBRTtRQUNWLE9BQU9BLE1BQU0sQ0FBQztLQUNmO0lBQ0QsSUFBSUUsV0FBVyxHQUFHVCxzREFBYSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUM7SUFDN0MsTUFBTVUsSUFBSSxHQUFHLE1BQU1YLHdEQUFlLENBQUM7UUFDakNNLEtBQUs7UUFDTEMsUUFBUTtRQUNSTSxJQUFJLEVBQUU7WUFBRUMsY0FBYyxFQUFFLEVBQUU7WUFBRUMsWUFBWSxFQUFFLEVBQUU7U0FBRTtRQUM5Q0MsV0FBVyxFQUFFLEVBQUU7UUFDZkMsTUFBTSxFQUFFLElBQUk7UUFDWkMsSUFBSSxFQUFFLElBQUk7UUFDVkMsU0FBUyxFQUFFO1lBQUNULFdBQVc7U0FBQztRQUN4QlUsU0FBUyxFQUFFLElBQUk7UUFDZkMsS0FBSyxFQUFFLElBQUk7UUFDWEMsS0FBSyxFQUFFLElBQUk7UUFDWEMsT0FBTyxFQUFFLElBQUk7UUFDYmIsV0FBVyxFQUFFQSxXQUFXO0tBQ3pCLENBQUM7SUFDRixNQUFNYyxJQUFJLEdBQUcsTUFBTXpCLHdEQUFlLENBQUM7UUFDakNPLEtBQUs7UUFDTG9CLElBQUksRUFBRSxJQUFJO1FBQ1ZDLFVBQVUsRUFBRSxJQUFJO1FBQ2hCQyxNQUFNLEVBQUVqQixJQUFJLENBQUNrQixFQUFFO0tBQ2hCLENBQUM7SUFDRixPQUFPTCxJQUFJLENBQUM7Q0FDYjtBQUVNLGVBQWVNLFFBQVEsQ0FBQ3hCLEtBQWEsRUFBRUMsUUFBZ0IsRUFBRTtJQUM5RCxNQUFNaUIsSUFBSSxHQUFHLE1BQU1uQixZQUFZLENBQUNDLEtBQUssRUFBRUMsUUFBUSxDQUFDO0lBQ2hELElBQUlpQixJQUFJLEVBQUU7UUFDUixJQUFJRSxJQUFJLEdBQUd6QixzREFBYSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUM7UUFDdEMsTUFBTTBCLFVBQVUsR0FBR3pCLG9EQUFVLENBQUMsSUFBSTZCLElBQUksRUFBRSxFQUFFLEVBQUUsQ0FBQztRQUM3Q1AsSUFBSSxDQUFDUSxJQUFJLENBQUNOLElBQUksR0FBR0EsSUFBSSxDQUFDO1FBQ3RCRixJQUFJLENBQUNRLElBQUksQ0FBQ0wsVUFBVSxHQUFHQSxVQUFVLENBQUM7UUFDbEMsTUFBTUgsSUFBSSxDQUFDUyxJQUFJLEVBQUUsQ0FBQztRQUNsQjdCLDZEQUFVLENBQUM7WUFBRUUsS0FBSztZQUFFQyxRQUFRO1lBQUVtQixJQUFJO1NBQUUsQ0FBQyxDQUFDO1FBQ3RDLE9BQU8sSUFBSSxDQUFDO0tBQ2IsTUFBTTtRQUNMLE9BQU8sd0JBQXdCLENBQUM7S0FDakM7Q0FDRjtBQUVNLGVBQWVRLFlBQVksQ0FBQzVCLEtBQWEsRUFBRW9CLElBQVksRUFBRTtJQUM5RCxNQUFNRixJQUFJLEdBQUcsTUFBTXpCLCtEQUFzQixDQUFDTyxLQUFLLEVBQUVvQixJQUFJLENBQUM7SUFDdEQsSUFBSUYsSUFBSSxFQUFFO1FBQ1BBLElBQUksQ0FBQ1EsSUFBSSxDQUFDTixJQUFJLEdBQUcsSUFBSSxFQUFJRixJQUFJLENBQUNRLElBQUksQ0FBQ0wsVUFBVSxHQUFHLElBQUksQ0FBRTtRQUN2RCxNQUFNSCxJQUFJLENBQUNTLElBQUksRUFBRSxDQUFDO1FBQ2xCLE1BQU1HLEtBQUssR0FBR2pDLG9EQUFXLENBQUNxQixJQUFJLENBQUNLLEVBQUUsQ0FBQztRQUNsQyxPQUFPO1lBQUVPLEtBQUs7U0FBRSxDQUFDO0tBQ2xCO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWNrZW5kLy4vY29udHJvbGxlcnMvYXV0aC50cz9mNzc2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF1dGggfSBmcm9tIFwibW9kZWxzL2F1dGhcIjtcclxuaW1wb3J0IHsgVXNlciB9IGZyb20gXCJtb2RlbHMvdXNlclwiO1xyXG5pbXBvcnQgcmFuZG9tSW50ZWdlciBmcm9tIFwicmFuZG9tLWludFwiO1xyXG5pbXBvcnQgeyBhZGRNaW51dGVzIH0gZnJvbSBcImRhdGUtZm5zXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVRva2VuIH0gZnJvbSBcImxpYi9qd3RcIjtcclxuaW1wb3J0IHsgbWFpbFNlbmRlciB9IGZyb20gXCJjb250cm9sbGVycy9lbWFpbFwiO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZpbmRPckNyZWF0ZShlbWFpbDogc3RyaW5nLCBmdWxsbmFtZTogc3RyaW5nKSB7XHJcbiAgY29uc3QgZXhpc3RzID0gYXdhaXQgQXV0aC5maW5kQnlFbWFpbChlbWFpbCk7XHJcbiAgaWYgKGV4aXN0cykge1xyXG4gICAgcmV0dXJuIGV4aXN0cztcclxuICB9XHJcbiAgbGV0IGdlbmVyYXRlZElkID0gcmFuZG9tSW50ZWdlcigxMDAwMCwgOTk5OTkpO1xyXG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmNyZWF0ZVVzZXIoe1xyXG4gICAgZW1haWwsXHJcbiAgICBmdWxsbmFtZSxcclxuICAgIHBpY3M6IHsgcHJvZmlsZVBpY3R1cmU6IFwiXCIsIGNvdmVyUGljdHVyZTogXCJcIiB9LFxyXG4gICAgZGVzY3JpcHRpb246IFwiXCIsXHJcbiAgICB0d2VldHM6IG51bGwsXHJcbiAgICBmZWVkOiBudWxsLFxyXG4gICAgZm9sbG93ZXJzOiBbZ2VuZXJhdGVkSWRdLFxyXG4gICAgZm9sbG93aW5nOiBudWxsLFxyXG4gICAgbGlrZXM6IG51bGwsXHJcbiAgICBzYXZlczogbnVsbCxcclxuICAgIHJlcGxpZXM6IG51bGwsXHJcbiAgICBnZW5lcmF0ZWRJZDogZ2VuZXJhdGVkSWQsXHJcbiAgfSk7XHJcbiAgY29uc3QgYXV0aCA9IGF3YWl0IEF1dGguY3JlYXRlQXV0aCh7XHJcbiAgICBlbWFpbCxcclxuICAgIGNvZGU6IG51bGwsXHJcbiAgICBleHBpcmF0aW9uOiBudWxsLFxyXG4gICAgdXNlcklkOiB1c2VyLmlkLFxyXG4gIH0pO1xyXG4gIHJldHVybiBhdXRoO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZENvZGUoZW1haWw6IHN0cmluZywgZnVsbG5hbWU6IHN0cmluZykge1xyXG4gIGNvbnN0IGF1dGggPSBhd2FpdCBmaW5kT3JDcmVhdGUoZW1haWwsIGZ1bGxuYW1lKTtcclxuICBpZiAoYXV0aCkge1xyXG4gICAgbGV0IGNvZGUgPSByYW5kb21JbnRlZ2VyKDEwMDAwLCA5OTk5OSk7XHJcbiAgICBjb25zdCBleHBpcmF0aW9uID0gYWRkTWludXRlcyhuZXcgRGF0ZSgpLCAyMCk7XHJcbiAgICBhdXRoLmRhdGEuY29kZSA9IGNvZGU7XHJcbiAgICBhdXRoLmRhdGEuZXhwaXJhdGlvbiA9IGV4cGlyYXRpb247XHJcbiAgICBhd2FpdCBhdXRoLnB1c2goKTtcclxuICAgIG1haWxTZW5kZXIoeyBlbWFpbCwgZnVsbG5hbWUsIGNvZGUgfSk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIFwiQXV0aGVudGljYXRpb24gZmFpbGVkLlwiO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGF1dGhlbnRpY2F0ZShlbWFpbDogc3RyaW5nLCBjb2RlOiBudW1iZXIpIHtcclxuICBjb25zdCBhdXRoID0gYXdhaXQgQXV0aC5nZXRCeUVtYWlsQW5kQ29kZShlbWFpbCwgY29kZSk7XHJcbiAgaWYgKGF1dGgpIHtcclxuICAgIChhdXRoLmRhdGEuY29kZSA9IG51bGwpLCAoYXV0aC5kYXRhLmV4cGlyYXRpb24gPSBudWxsKTtcclxuICAgIGF3YWl0IGF1dGgucHVzaCgpO1xyXG4gICAgY29uc3QgdG9rZW4gPSBjcmVhdGVUb2tlbihhdXRoLmlkKTtcclxuICAgIHJldHVybiB7IHRva2VuIH07XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJBdXRoIiwiVXNlciIsInJhbmRvbUludGVnZXIiLCJhZGRNaW51dGVzIiwiY3JlYXRlVG9rZW4iLCJtYWlsU2VuZGVyIiwiZmluZE9yQ3JlYXRlIiwiZW1haWwiLCJmdWxsbmFtZSIsImV4aXN0cyIsImZpbmRCeUVtYWlsIiwiZ2VuZXJhdGVkSWQiLCJ1c2VyIiwiY3JlYXRlVXNlciIsInBpY3MiLCJwcm9maWxlUGljdHVyZSIsImNvdmVyUGljdHVyZSIsImRlc2NyaXB0aW9uIiwidHdlZXRzIiwiZmVlZCIsImZvbGxvd2VycyIsImZvbGxvd2luZyIsImxpa2VzIiwic2F2ZXMiLCJyZXBsaWVzIiwiYXV0aCIsImNyZWF0ZUF1dGgiLCJjb2RlIiwiZXhwaXJhdGlvbiIsInVzZXJJZCIsImlkIiwic2VuZENvZGUiLCJEYXRlIiwiZGF0YSIsInB1c2giLCJhdXRoZW50aWNhdGUiLCJnZXRCeUVtYWlsQW5kQ29kZSIsInRva2VuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./controllers/auth.ts\n");

/***/ }),

/***/ "(api)/./controllers/email.ts":
/*!******************************!*\
  !*** ./controllers/email.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"mailSender\": () => (/* binding */ mailSender)\n/* harmony export */ });\n/* harmony import */ var _lib_conn_sendinblue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/conn/sendinblue */ \"(api)/./lib/conn/sendinblue.ts\");\n\nfunction mailSender(body) {\n    const result = (0,_lib_conn_sendinblue__WEBPACK_IMPORTED_MODULE_0__.sendEmail)(body);\n    return result;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9jb250cm9sbGVycy9lbWFpbC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFtRDtBQUU1QyxTQUFTQyxVQUFVLENBQUNDLElBQUksRUFBRTtJQUMvQixNQUFNQyxNQUFNLEdBQUdILCtEQUFTLENBQUNFLElBQUksQ0FBQztJQUM5QixPQUFPQyxNQUFNLENBQUM7Q0FDZiIsInNvdXJjZXMiOlsid2VicGFjazovL2JhY2tlbmQvLi9jb250cm9sbGVycy9lbWFpbC50cz9kOTU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNlbmRFbWFpbCB9IGZyb20gXCIuLi9saWIvY29ubi9zZW5kaW5ibHVlXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWFpbFNlbmRlcihib2R5KSB7XHJcbiAgY29uc3QgcmVzdWx0ID0gc2VuZEVtYWlsKGJvZHkpO1xyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuIl0sIm5hbWVzIjpbInNlbmRFbWFpbCIsIm1haWxTZW5kZXIiLCJib2R5IiwicmVzdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./controllers/email.ts\n");

/***/ }),

/***/ "(api)/./lib/conn/firestore.ts":
/*!*******************************!*\
  !*** ./lib/conn/firestore.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"firestore\": () => (/* binding */ firestore)\n/* harmony export */ });\n/* harmony import */ var firebase_admin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase-admin */ \"firebase-admin\");\n/* harmony import */ var firebase_admin__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(firebase_admin__WEBPACK_IMPORTED_MODULE_0__);\n\nconst servAcc = JSON.parse(process.env.DB_KEY);\nif ((firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().apps.length) == 0) {\n    firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().initializeApp({\n        credential: firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().credential.cert(servAcc)\n    });\n}\nconst firestore = firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().firestore();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvY29ubi9maXJlc3RvcmUudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1DO0FBRW5DLE1BQU1DLE9BQU8sR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxNQUFNLENBQUM7QUFFOUMsSUFBSU4sbUVBQWlCLElBQUksQ0FBQyxFQUFFO0lBQzFCQSxtRUFBbUIsQ0FBQztRQUNsQlUsVUFBVSxFQUFFVixxRUFBcUIsQ0FBQ0MsT0FBTyxDQUFDO0tBQzNDLENBQUMsQ0FBQztDQUNKO0FBRUQsTUFBTVcsU0FBUyxHQUFHWiwrREFBZSxFQUFFO0FBRWQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWNrZW5kLy4vbGliL2Nvbm4vZmlyZXN0b3JlLnRzP2U4NmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGFkbWluIGZyb20gXCJmaXJlYmFzZS1hZG1pblwiO1xyXG5cclxuY29uc3Qgc2VydkFjYyA9IEpTT04ucGFyc2UocHJvY2Vzcy5lbnYuREJfS0VZKTtcclxuXHJcbmlmIChhZG1pbi5hcHBzLmxlbmd0aCA9PSAwKSB7XHJcbiAgYWRtaW4uaW5pdGlhbGl6ZUFwcCh7XHJcbiAgICBjcmVkZW50aWFsOiBhZG1pbi5jcmVkZW50aWFsLmNlcnQoc2VydkFjYyksXHJcbiAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IGZpcmVzdG9yZSA9IGFkbWluLmZpcmVzdG9yZSgpO1xyXG5cclxuZXhwb3J0IHsgZmlyZXN0b3JlIH07XHJcbiJdLCJuYW1lcyI6WyJhZG1pbiIsInNlcnZBY2MiLCJKU09OIiwicGFyc2UiLCJwcm9jZXNzIiwiZW52IiwiREJfS0VZIiwiYXBwcyIsImxlbmd0aCIsImluaXRpYWxpemVBcHAiLCJjcmVkZW50aWFsIiwiY2VydCIsImZpcmVzdG9yZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/conn/firestore.ts\n");

/***/ }),

/***/ "(api)/./lib/conn/sendinblue.ts":
/*!********************************!*\
  !*** ./lib/conn/sendinblue.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"sendEmail\": () => (/* binding */ sendEmail)\n/* harmony export */ });\n/* harmony import */ var sib_api_v3_sdk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! sib-api-v3-sdk */ \"sib-api-v3-sdk\");\n/* harmony import */ var sib_api_v3_sdk__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(sib_api_v3_sdk__WEBPACK_IMPORTED_MODULE_0__);\n\n(sib_api_v3_sdk__WEBPACK_IMPORTED_MODULE_0___default().ApiClient.instance.authentications[\"api-key\"].apiKey) = process.env.SENDINBLUE_API_KEY;\nfunction sendEmail(body) {\n    return new (sib_api_v3_sdk__WEBPACK_IMPORTED_MODULE_0___default().TransactionalEmailsApi)().sendTransacEmail({\n        sender: {\n            email: process.env.SECREY_EMAIL,\n            name: \"Maximo\"\n        },\n        subject: \"Authorization code\",\n        htmlContent: \"<!DOCTYPE html><html><body><h1>My First Heading</h1><p>My first paragraph.</p></body></html>\",\n        params: {\n            greeting: \"This is the default greeting\",\n            headline: \"This is the default headline\"\n        },\n        messageVersions: [\n            {\n                to: [\n                    {\n                        email: body.email,\n                        name: body.fullname\n                    }, \n                ],\n                htmlContent: ` <!DOCTYPE html><html><body><h1>¡Authorization!</h1><p>Your code is : ${body.code}</p></body></html>`,\n                subject: \"\\xa1Thank you for signing in!\"\n            }, \n        ]\n    }).then(function(data) {\n        console.log(data);\n    }, function(error) {\n        console.error(error);\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvY29ubi9zZW5kaW5ibHVlLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5QztBQUN6Q0EsNEdBQWdFLEdBQzlESyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0Msa0JBQWtCLENBQUM7QUFFMUIsU0FBU0MsU0FBUyxDQUFDQyxJQUFJLEVBQUU7SUFDOUIsT0FBTyxJQUFJVCw4RUFBa0MsRUFBRSxDQUM1Q1csZ0JBQWdCLENBQUM7UUFDaEJDLE1BQU0sRUFBRTtZQUFFQyxLQUFLLEVBQUVSLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDUSxZQUFZO1lBQUVDLElBQUksRUFBRSxRQUFRO1NBQUU7UUFDM0RDLE9BQU8sRUFBRSxvQkFBb0I7UUFDN0JDLFdBQVcsRUFDVCw4RkFBOEY7UUFDaEdDLE1BQU0sRUFBRTtZQUNOQyxRQUFRLEVBQUUsOEJBQThCO1lBQ3hDQyxRQUFRLEVBQUUsOEJBQThCO1NBQ3pDO1FBQ0RDLGVBQWUsRUFBRTtZQUNmO2dCQUNFQyxFQUFFLEVBQUU7b0JBQ0Y7d0JBQ0VULEtBQUssRUFBRUosSUFBSSxDQUFDSSxLQUFLO3dCQUNqQkUsSUFBSSxFQUFFTixJQUFJLENBQUNjLFFBQVE7cUJBQ3BCO2lCQUNGO2dCQUNETixXQUFXLEVBQUUsQ0FBQyxzRUFBc0UsRUFBRVIsSUFBSSxDQUFDZSxJQUFJLENBQUMsa0JBQWtCLENBQUM7Z0JBQ25IUixPQUFPLEVBQUUsK0JBQTRCO2FBQ3RDO1NBQ0Y7S0FDRixDQUFDLENBQ0RTLElBQUksQ0FDSCxTQUFVQyxJQUFJLEVBQUU7UUFDZEMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLElBQUksQ0FBQyxDQUFDO0tBQ25CLEVBQ0QsU0FBVUcsS0FBSyxFQUFFO1FBQ2ZGLE9BQU8sQ0FBQ0UsS0FBSyxDQUFDQSxLQUFLLENBQUMsQ0FBQztLQUN0QixDQUNGLENBQUM7Q0FDTCIsInNvdXJjZXMiOlsid2VicGFjazovL2JhY2tlbmQvLi9saWIvY29ubi9zZW5kaW5ibHVlLnRzPzQwZjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNpYkFwaVYzU2RrIGZyb20gXCJzaWItYXBpLXYzLXNka1wiO1xyXG5TaWJBcGlWM1Nkay5BcGlDbGllbnQuaW5zdGFuY2UuYXV0aGVudGljYXRpb25zW1wiYXBpLWtleVwiXS5hcGlLZXkgPVxyXG4gIHByb2Nlc3MuZW52LlNFTkRJTkJMVUVfQVBJX0tFWTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZW5kRW1haWwoYm9keSkge1xyXG4gIHJldHVybiBuZXcgU2liQXBpVjNTZGsuVHJhbnNhY3Rpb25hbEVtYWlsc0FwaSgpXHJcbiAgICAuc2VuZFRyYW5zYWNFbWFpbCh7XHJcbiAgICAgIHNlbmRlcjogeyBlbWFpbDogcHJvY2Vzcy5lbnYuU0VDUkVZX0VNQUlMLCBuYW1lOiBcIk1heGltb1wiIH0sXHJcbiAgICAgIHN1YmplY3Q6IFwiQXV0aG9yaXphdGlvbiBjb2RlXCIsXHJcbiAgICAgIGh0bWxDb250ZW50OlxyXG4gICAgICAgIFwiPCFET0NUWVBFIGh0bWw+PGh0bWw+PGJvZHk+PGgxPk15IEZpcnN0IEhlYWRpbmc8L2gxPjxwPk15IGZpcnN0IHBhcmFncmFwaC48L3A+PC9ib2R5PjwvaHRtbD5cIixcclxuICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgZ3JlZXRpbmc6IFwiVGhpcyBpcyB0aGUgZGVmYXVsdCBncmVldGluZ1wiLFxyXG4gICAgICAgIGhlYWRsaW5lOiBcIlRoaXMgaXMgdGhlIGRlZmF1bHQgaGVhZGxpbmVcIixcclxuICAgICAgfSxcclxuICAgICAgbWVzc2FnZVZlcnNpb25zOiBbXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgdG86IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIGVtYWlsOiBib2R5LmVtYWlsLFxyXG4gICAgICAgICAgICAgIG5hbWU6IGJvZHkuZnVsbG5hbWUsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICBdLFxyXG4gICAgICAgICAgaHRtbENvbnRlbnQ6IGAgPCFET0NUWVBFIGh0bWw+PGh0bWw+PGJvZHk+PGgxPsKhQXV0aG9yaXphdGlvbiE8L2gxPjxwPllvdXIgY29kZSBpcyA6ICR7Ym9keS5jb2RlfTwvcD48L2JvZHk+PC9odG1sPmAsXHJcbiAgICAgICAgICBzdWJqZWN0OiBcIsKhVGhhbmsgeW91IGZvciBzaWduaW5nIGluIVwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIF0sXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oXHJcbiAgICAgIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJTaWJBcGlWM1NkayIsIkFwaUNsaWVudCIsImluc3RhbmNlIiwiYXV0aGVudGljYXRpb25zIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIlNFTkRJTkJMVUVfQVBJX0tFWSIsInNlbmRFbWFpbCIsImJvZHkiLCJUcmFuc2FjdGlvbmFsRW1haWxzQXBpIiwic2VuZFRyYW5zYWNFbWFpbCIsInNlbmRlciIsImVtYWlsIiwiU0VDUkVZX0VNQUlMIiwibmFtZSIsInN1YmplY3QiLCJodG1sQ29udGVudCIsInBhcmFtcyIsImdyZWV0aW5nIiwiaGVhZGxpbmUiLCJtZXNzYWdlVmVyc2lvbnMiLCJ0byIsImZ1bGxuYW1lIiwiY29kZSIsInRoZW4iLCJkYXRhIiwiY29uc29sZSIsImxvZyIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/conn/sendinblue.ts\n");

/***/ }),

/***/ "(api)/./lib/jwt/index.ts":
/*!**************************!*\
  !*** ./lib/jwt/index.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createToken\": () => (/* binding */ createToken),\n/* harmony export */   \"decode\": () => (/* binding */ decode)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction createToken(authId) {\n    const token = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign({\n        authId\n    }, process.env.JWT_KEY);\n    return token;\n}\nfunction decode(token) {\n    try {\n        const validate = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, process.env.JWT_KEY);\n        return validate;\n    } catch (error) {\n        console.error({\n            error\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvand0L2luZGV4LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBK0I7QUFFeEIsU0FBU0MsV0FBVyxDQUFDQyxNQUFNLEVBQUU7SUFDbEMsTUFBTUMsS0FBSyxHQUFHSCx3REFBUSxDQUFDO1FBQUVFLE1BQU07S0FBRSxFQUFFRyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsT0FBTyxDQUFDO0lBQ3ZELE9BQU9KLEtBQUssQ0FBQztDQUNkO0FBRU0sU0FBU0ssTUFBTSxDQUFDTCxLQUFLLEVBQUU7SUFDNUIsSUFBSTtRQUNGLE1BQU1NLFFBQVEsR0FBR1QsMERBQVUsQ0FBQ0csS0FBSyxFQUFFRSxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsT0FBTyxDQUFDO1FBQ3ZELE9BQU9FLFFBQVEsQ0FBQztLQUNqQixDQUFDLE9BQU9FLEtBQUssRUFBRTtRQUNkQyxPQUFPLENBQUNELEtBQUssQ0FBQztZQUFFQSxLQUFLO1NBQUUsQ0FBQyxDQUFDO0tBQzFCO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWNrZW5kLy4vbGliL2p3dC9pbmRleC50cz84ZjQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRva2VuKGF1dGhJZCkge1xyXG4gIGNvbnN0IHRva2VuID0gand0LnNpZ24oeyBhdXRoSWQgfSwgcHJvY2Vzcy5lbnYuSldUX0tFWSk7XHJcbiAgcmV0dXJuIHRva2VuO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlKHRva2VuKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHZhbGlkYXRlID0gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuSldUX0tFWSk7XHJcbiAgICByZXR1cm4gdmFsaWRhdGU7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoeyBlcnJvciB9KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImp3dCIsImNyZWF0ZVRva2VuIiwiYXV0aElkIiwidG9rZW4iLCJzaWduIiwicHJvY2VzcyIsImVudiIsIkpXVF9LRVkiLCJkZWNvZGUiLCJ2YWxpZGF0ZSIsInZlcmlmeSIsImVycm9yIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/jwt/index.ts\n");

/***/ }),

/***/ "(api)/./models/auth.ts":
/*!************************!*\
  !*** ./models/auth.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Auth\": () => (/* binding */ Auth)\n/* harmony export */ });\n/* harmony import */ var lib_conn_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/conn/firestore */ \"(api)/./lib/conn/firestore.ts\");\n\nconst collection = lib_conn_firestore__WEBPACK_IMPORTED_MODULE_0__.firestore.collection(\"auths\");\nclass Auth {\n    constructor(id){\n        this.id = id;\n        this.ref = collection.doc(id);\n    }\n    async pull() {\n        const snap = await this.ref.get();\n        const data = snap.data();\n        this.data = data;\n    }\n    async push() {\n        await this.ref.update(this.data);\n    }\n    static trimEmail(email) {\n        return email.trim().toLowerCase();\n    }\n    static async findByEmail(emailParam) {\n        const email = Auth.trimEmail(emailParam);\n        const res = await collection.where(\"email\", \"==\", email).get();\n        if (res.docs.length) {\n            const doc = res.docs[0];\n            const id = doc.id;\n            const auth = new Auth(id);\n            auth.data = doc.data();\n            return auth;\n        }\n    }\n    static async createAuth(data) {\n        const email = Auth.trimEmail(data.email);\n        const newData = {\n            email,\n            code: data.code,\n            expiration: data.expiration,\n            userId: data.userId\n        };\n        const snapshot = await collection.add(newData);\n        const auth = new Auth(snapshot.id);\n        auth.data = newData;\n        return auth;\n    }\n    static async getByEmailAndCode(userEmail, code) {\n        const email = Auth.trimEmail(userEmail);\n        const snapshot = await collection.where(\"email\", \"==\", email).where(\"code\", \"==\", code).get();\n        if (snapshot.docs.length) {\n            const doc = snapshot.docs[0];\n            const auth = new Auth(doc.id);\n            auth.data = doc.data();\n            return auth;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTSxFQUFFO1lBQ3hCLE1BQU1oQixHQUFHLEdBQUd1QixRQUFRLENBQUNSLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDNUIsTUFBTUUsSUFBSSxHQUFHLElBQUlyQixJQUFJLENBQUNJLEdBQUcsQ0FBQ0YsRUFBRSxDQUFDO1lBQzdCbUIsSUFBSSxDQUFDYixJQUFJLEdBQUdKLEdBQUcsQ0FBQ0ksSUFBSSxFQUFFLENBQWE7WUFDbkMsT0FBT2EsSUFBSSxDQUFDO1NBQ2I7S0FDRjtDQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFja2VuZC8uL21vZGVscy9hdXRoLnRzPzRkMzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZmlyZXN0b3JlIH0gZnJvbSBcImxpYi9jb25uL2ZpcmVzdG9yZVwiO1xyXG5cclxuY29uc3QgY29sbGVjdGlvbiA9IGZpcmVzdG9yZS5jb2xsZWN0aW9uKFwiYXV0aHNcIik7XHJcblxyXG50eXBlIEF1dGhEYXRhID0ge1xyXG4gIGVtYWlsOiBzdHJpbmc7XHJcbiAgY29kZTogbnVtYmVyO1xyXG4gIGV4cGlyYXRpb246IERhdGU7XHJcbiAgdXNlcklkOiBzdHJpbmc7XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgQXV0aCB7XHJcbiAgaWQ6IHN0cmluZztcclxuICByZWY6IEZpcmViYXNlRmlyZXN0b3JlLkRvY3VtZW50UmVmZXJlbmNlO1xyXG4gIGRhdGE6IEF1dGhEYXRhO1xyXG4gIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIHRoaXMucmVmID0gY29sbGVjdGlvbi5kb2MoaWQpO1xyXG4gIH1cclxuICBhc3luYyBwdWxsKCkge1xyXG4gICAgY29uc3Qgc25hcCA9IGF3YWl0IHRoaXMucmVmLmdldCgpO1xyXG4gICAgY29uc3QgZGF0YSA9IHNuYXAuZGF0YSgpO1xyXG4gICAgdGhpcy5kYXRhID0gZGF0YSBhcyBBdXRoRGF0YTtcclxuICB9XHJcbiAgYXN5bmMgcHVzaCgpIHtcclxuICAgIGF3YWl0IHRoaXMucmVmLnVwZGF0ZSh0aGlzLmRhdGEpO1xyXG4gIH1cclxuICBzdGF0aWMgdHJpbUVtYWlsKGVtYWlsOiBzdHJpbmcpIHtcclxuICAgIHJldHVybiBlbWFpbC50cmltKCkudG9Mb3dlckNhc2UoKTtcclxuICB9XHJcbiAgc3RhdGljIGFzeW5jIGZpbmRCeUVtYWlsKGVtYWlsUGFyYW06IHN0cmluZykge1xyXG4gICAgY29uc3QgZW1haWwgPSBBdXRoLnRyaW1FbWFpbChlbWFpbFBhcmFtKTtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNvbGxlY3Rpb24ud2hlcmUoXCJlbWFpbFwiLCBcIj09XCIsIGVtYWlsKS5nZXQoKTtcclxuICAgIGlmIChyZXMuZG9jcy5sZW5ndGgpIHtcclxuICAgICAgY29uc3QgZG9jID0gcmVzLmRvY3NbMF07XHJcbiAgICAgIGNvbnN0IGlkID0gZG9jLmlkO1xyXG4gICAgICBjb25zdCBhdXRoID0gbmV3IEF1dGgoaWQpO1xyXG4gICAgICBhdXRoLmRhdGEgPSBkb2MuZGF0YSgpIGFzIEF1dGhEYXRhO1xyXG4gICAgICByZXR1cm4gYXV0aDtcclxuICAgIH1cclxuICB9XHJcbiAgc3RhdGljIGFzeW5jIGNyZWF0ZUF1dGgoZGF0YTogQXV0aERhdGEpIHtcclxuICAgIGNvbnN0IGVtYWlsID0gQXV0aC50cmltRW1haWwoZGF0YS5lbWFpbCk7XHJcblxyXG4gICAgY29uc3QgbmV3RGF0YSA9IHtcclxuICAgICAgZW1haWwsXHJcbiAgICAgIGNvZGU6IGRhdGEuY29kZSxcclxuICAgICAgZXhwaXJhdGlvbjogZGF0YS5leHBpcmF0aW9uLFxyXG4gICAgICB1c2VySWQ6IGRhdGEudXNlcklkLFxyXG4gICAgfTtcclxuICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgY29sbGVjdGlvbi5hZGQobmV3RGF0YSk7XHJcbiAgICBjb25zdCBhdXRoID0gbmV3IEF1dGgoc25hcHNob3QuaWQpO1xyXG4gICAgYXV0aC5kYXRhID0gbmV3RGF0YTtcclxuICAgIHJldHVybiBhdXRoO1xyXG4gIH1cclxuICBzdGF0aWMgYXN5bmMgZ2V0QnlFbWFpbEFuZENvZGUodXNlckVtYWlsOiBzdHJpbmcsIGNvZGU6IG51bWJlcikge1xyXG4gICAgY29uc3QgZW1haWwgPSBBdXRoLnRyaW1FbWFpbCh1c2VyRW1haWwpO1xyXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBjb2xsZWN0aW9uXHJcbiAgICAgIC53aGVyZShcImVtYWlsXCIsIFwiPT1cIiwgZW1haWwpXHJcbiAgICAgIC53aGVyZShcImNvZGVcIiwgXCI9PVwiLCBjb2RlKVxyXG4gICAgICAuZ2V0KCk7XHJcbiAgICBpZiAoc25hcHNob3QuZG9jcy5sZW5ndGgpIHtcclxuICAgICAgY29uc3QgZG9jID0gc25hcHNob3QuZG9jc1swXTtcclxuICAgICAgY29uc3QgYXV0aCA9IG5ldyBBdXRoKGRvYy5pZCk7XHJcbiAgICAgIGF1dGguZGF0YSA9IGRvYy5kYXRhKCkgYXMgQXV0aERhdGE7XHJcbiAgICAgIHJldHVybiBhdXRoO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiZmlyZXN0b3JlIiwiY29sbGVjdGlvbiIsIkF1dGgiLCJjb25zdHJ1Y3RvciIsImlkIiwicmVmIiwiZG9jIiwicHVsbCIsInNuYXAiLCJnZXQiLCJkYXRhIiwicHVzaCIsInVwZGF0ZSIsInRyaW1FbWFpbCIsImVtYWlsIiwidHJpbSIsInRvTG93ZXJDYXNlIiwiZmluZEJ5RW1haWwiLCJlbWFpbFBhcmFtIiwicmVzIiwid2hlcmUiLCJkb2NzIiwibGVuZ3RoIiwiYXV0aCIsImNyZWF0ZUF1dGgiLCJuZXdEYXRhIiwiY29kZSIsImV4cGlyYXRpb24iLCJ1c2VySWQiLCJzbmFwc2hvdCIsImFkZCIsImdldEJ5RW1haWxBbmRDb2RlIiwidXNlckVtYWlsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./models/auth.ts\n");

/***/ }),

/***/ "(api)/./models/user.ts":
/*!************************!*\
  !*** ./models/user.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"User\": () => (/* binding */ User)\n/* harmony export */ });\n/* harmony import */ var lib_conn_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/conn/firestore */ \"(api)/./lib/conn/firestore.ts\");\n\nconst collection = lib_conn_firestore__WEBPACK_IMPORTED_MODULE_0__.firestore.collection(\"users\");\nclass User {\n    constructor(id){\n        this.id = id;\n        this.ref = collection.doc(id);\n    }\n    async push() {\n        await this.ref.update(this.data);\n    }\n    async pull() {\n        const snap = await this.ref.get();\n        const data = snap.data();\n        this.data = data;\n    }\n    static async createUser(data) {\n        const email = data.email.trim().toLowerCase();\n        const newData = {\n            email,\n            fullname: data.fullname,\n            pics: {\n                profilePicture: data.pics.profilePicture,\n                coverPicture: data.pics.coverPicture\n            },\n            description: data.description,\n            tweets: data.tweets || [\n                {}\n            ],\n            followers: [],\n            following: [],\n            likes: data.likes || [\n                {}\n            ],\n            saves: data.saves || [\n                {}\n            ],\n            feed: data.feed || [\n                {}\n            ],\n            generatedId: data.generatedId,\n            replies: data.replies || [\n                {}\n            ]\n        };\n        const snapshot = await collection.add(newData);\n        const user = new User(snapshot.id);\n        user.data = newData;\n        user.data.tweets.pop();\n        await user.push();\n        return user;\n    }\n    static async findById(userId) {\n        const snapshot = await collection.where(\"generatedId\", \"==\", Number(userId)).get();\n        if (snapshot.docs.length) {\n            {\n                const doc = snapshot.docs[0];\n                const user = new User(doc.id);\n                user.data = doc.data();\n                return user;\n            }\n        }\n    }\n    static async getAll() {\n        const usersSnapshot = await collection.get();\n        const users = usersSnapshot.docs.map((d)=>{\n            const data = d.data();\n            return data;\n        });\n        return users;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDRixFQUFFLENBQUM7Z0JBQzdCNkIsSUFBSSxDQUFDeEIsSUFBSSxHQUFHSCxHQUFHLENBQUNHLElBQUksRUFBRSxDQUFhO2dCQUNuQyxPQUFPd0IsSUFBSSxDQUFDO2FBQ2I7U0FDRjtLQUNGO0lBQ0QsYUFBYVEsTUFBTSxHQUFHO1FBQ3BCLE1BQU1DLGFBQWEsR0FBRyxNQUFNekMsVUFBVSxDQUFDVyxHQUFHLEVBQUU7UUFDNUMsTUFBTStCLEtBQUssR0FBR0QsYUFBYSxDQUFDSCxJQUFJLENBQUNLLEdBQUcsQ0FBQyxDQUFDQyxDQUFDLEdBQUs7WUFDMUMsTUFBTXBDLElBQUksR0FBR29DLENBQUMsQ0FBQ3BDLElBQUksRUFBRTtZQUNyQixPQUFPQSxJQUFJLENBQUM7U0FDYixDQUFDO1FBQ0YsT0FBT2tDLEtBQUssQ0FBQztLQUNkO0NBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWNrZW5kLy4vbW9kZWxzL3VzZXIudHM/NzAwYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVc2VyRGF0YSB9IGZyb20gXCJjdXN0b21cIjtcclxuaW1wb3J0IHsgZmlyZXN0b3JlIH0gZnJvbSBcImxpYi9jb25uL2ZpcmVzdG9yZVwiO1xyXG5cclxuY29uc3QgY29sbGVjdGlvbiA9IGZpcmVzdG9yZS5jb2xsZWN0aW9uKFwidXNlcnNcIik7XHJcblxyXG5leHBvcnQgY2xhc3MgVXNlciB7XHJcbiAgcmVmOiBGaXJlYmFzZUZpcmVzdG9yZS5Eb2N1bWVudFJlZmVyZW5jZTtcclxuICBkYXRhOiBVc2VyRGF0YTtcclxuICBpZDogc3RyaW5nO1xyXG4gIGNvbnN0cnVjdG9yKGlkOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIHRoaXMucmVmID0gY29sbGVjdGlvbi5kb2MoaWQpO1xyXG4gIH1cclxuICBhc3luYyBwdXNoKCkge1xyXG4gICAgYXdhaXQgdGhpcy5yZWYudXBkYXRlKHRoaXMuZGF0YSk7XHJcbiAgfVxyXG4gIGFzeW5jIHB1bGwoKSB7XHJcbiAgICBjb25zdCBzbmFwID0gYXdhaXQgdGhpcy5yZWYuZ2V0KCk7XHJcbiAgICBjb25zdCBkYXRhID0gc25hcC5kYXRhKCk7XHJcbiAgICB0aGlzLmRhdGEgPSBkYXRhIGFzIFVzZXJEYXRhO1xyXG4gIH1cclxuICBzdGF0aWMgYXN5bmMgY3JlYXRlVXNlcihkYXRhOiBVc2VyRGF0YSkge1xyXG4gICAgY29uc3QgZW1haWwgPSBkYXRhLmVtYWlsLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgY29uc3QgbmV3RGF0YSA9IHtcclxuICAgICAgZW1haWwsXHJcbiAgICAgIGZ1bGxuYW1lOiBkYXRhLmZ1bGxuYW1lLFxyXG4gICAgICBwaWNzOiB7XHJcbiAgICAgICAgcHJvZmlsZVBpY3R1cmU6IGRhdGEucGljcy5wcm9maWxlUGljdHVyZSxcclxuICAgICAgICBjb3ZlclBpY3R1cmU6IGRhdGEucGljcy5jb3ZlclBpY3R1cmUsXHJcbiAgICAgIH0sXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLmRlc2NyaXB0aW9uLFxyXG4gICAgICB0d2VldHM6IGRhdGEudHdlZXRzIHx8IFt7fV0sXHJcbiAgICAgIGZvbGxvd2VyczogW10sXHJcbiAgICAgIGZvbGxvd2luZzogW10sXHJcbiAgICAgIGxpa2VzOiBkYXRhLmxpa2VzIHx8IFt7fV0sXHJcbiAgICAgIHNhdmVzOiBkYXRhLnNhdmVzIHx8IFt7fV0sXHJcbiAgICAgIGZlZWQ6IGRhdGEuZmVlZCB8fCBbe31dLFxyXG4gICAgICBnZW5lcmF0ZWRJZDogZGF0YS5nZW5lcmF0ZWRJZCxcclxuICAgICAgcmVwbGllczogZGF0YS5yZXBsaWVzIHx8IFt7fV0sXHJcbiAgICB9O1xyXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBjb2xsZWN0aW9uLmFkZChuZXdEYXRhKTtcclxuICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcihzbmFwc2hvdC5pZCk7XHJcbiAgICB1c2VyLmRhdGEgPSBuZXdEYXRhO1xyXG4gICAgdXNlci5kYXRhLnR3ZWV0cy5wb3AoKTtcclxuICAgIGF3YWl0IHVzZXIucHVzaCgpO1xyXG4gICAgcmV0dXJuIHVzZXI7XHJcbiAgfVxyXG4gIHN0YXRpYyBhc3luYyBmaW5kQnlJZCh1c2VySWQ6IG51bWJlcikge1xyXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBjb2xsZWN0aW9uXHJcbiAgICAgIC53aGVyZShcImdlbmVyYXRlZElkXCIsIFwiPT1cIiwgTnVtYmVyKHVzZXJJZCkpXHJcbiAgICAgIC5nZXQoKTtcclxuICAgIGlmIChzbmFwc2hvdC5kb2NzLmxlbmd0aCkge1xyXG4gICAgICB7XHJcbiAgICAgICAgY29uc3QgZG9jID0gc25hcHNob3QuZG9jc1swXTtcclxuICAgICAgICBjb25zdCB1c2VyID0gbmV3IFVzZXIoZG9jLmlkKTtcclxuICAgICAgICB1c2VyLmRhdGEgPSBkb2MuZGF0YSgpIGFzIFVzZXJEYXRhO1xyXG4gICAgICAgIHJldHVybiB1c2VyO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHN0YXRpYyBhc3luYyBnZXRBbGwoKSB7XHJcbiAgICBjb25zdCB1c2Vyc1NuYXBzaG90ID0gYXdhaXQgY29sbGVjdGlvbi5nZXQoKTtcclxuICAgIGNvbnN0IHVzZXJzID0gdXNlcnNTbmFwc2hvdC5kb2NzLm1hcCgoZCkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0gZC5kYXRhKCk7XHJcbiAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdXNlcnM7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJmaXJlc3RvcmUiLCJjb2xsZWN0aW9uIiwiVXNlciIsImNvbnN0cnVjdG9yIiwiaWQiLCJyZWYiLCJkb2MiLCJwdXNoIiwidXBkYXRlIiwiZGF0YSIsInB1bGwiLCJzbmFwIiwiZ2V0IiwiY3JlYXRlVXNlciIsImVtYWlsIiwidHJpbSIsInRvTG93ZXJDYXNlIiwibmV3RGF0YSIsImZ1bGxuYW1lIiwicGljcyIsInByb2ZpbGVQaWN0dXJlIiwiY292ZXJQaWN0dXJlIiwiZGVzY3JpcHRpb24iLCJ0d2VldHMiLCJmb2xsb3dlcnMiLCJmb2xsb3dpbmciLCJsaWtlcyIsInNhdmVzIiwiZmVlZCIsImdlbmVyYXRlZElkIiwicmVwbGllcyIsInNuYXBzaG90IiwiYWRkIiwidXNlciIsInBvcCIsImZpbmRCeUlkIiwidXNlcklkIiwid2hlcmUiLCJOdW1iZXIiLCJkb2NzIiwibGVuZ3RoIiwiZ2V0QWxsIiwidXNlcnNTbmFwc2hvdCIsInVzZXJzIiwibWFwIiwiZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./models/user.ts\n");

/***/ }),

/***/ "(api)/./pages/api/auth/token.ts":
/*!*********************************!*\
  !*** ./pages/api/auth/token.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var micro_method_router__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! micro-method-router */ \"micro-method-router\");\n/* harmony import */ var micro_method_router__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(micro_method_router__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var controllers_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! controllers/auth */ \"(api)/./controllers/auth.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([controllers_auth__WEBPACK_IMPORTED_MODULE_1__]);\ncontrollers_auth__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nasync function handlePost(req, res) {\n    const { email , code  } = req.body;\n    const result = await (0,controllers_auth__WEBPACK_IMPORTED_MODULE_1__.authenticate)(email, code);\n    res.send(result);\n}\nfunction handleOptions(req, res) {\n    res.send(200);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (micro_method_router__WEBPACK_IMPORTED_MODULE_0___default()({\n    post: handlePost,\n    options: handleOptions\n}));\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYXV0aC90b2tlbi50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQzBDO0FBQ007QUFFaEQsZUFBZUUsVUFBVSxDQUFDQyxHQUFtQixFQUFFQyxHQUFvQixFQUFFO0lBQ25FLE1BQU0sRUFBRUMsS0FBSyxHQUFFQyxJQUFJLEdBQUUsR0FBR0gsR0FBRyxDQUFDSSxJQUFJO0lBQ2hDLE1BQU1DLE1BQU0sR0FBRyxNQUFNUCw4REFBWSxDQUFDSSxLQUFLLEVBQUVDLElBQUksQ0FBQztJQUM5Q0YsR0FBRyxDQUFDSyxJQUFJLENBQUNELE1BQU0sQ0FBQyxDQUFDO0NBQ2xCO0FBRUQsU0FBU0UsYUFBYSxDQUFDUCxHQUFHLEVBQUVDLEdBQUcsRUFBRTtJQUMvQkEsR0FBRyxDQUFDSyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7Q0FDZjtBQUVELGlFQUFlVCwwREFBTyxDQUFDO0lBQ3JCVyxJQUFJLEVBQUVULFVBQVU7SUFDaEJVLE9BQU8sRUFBRUYsYUFBYTtDQUN2QixDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWNrZW5kLy4vcGFnZXMvYXBpL2F1dGgvdG9rZW4udHM/OWMwMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xyXG5pbXBvcnQgbWV0aG9kcyBmcm9tIFwibWljcm8tbWV0aG9kLXJvdXRlclwiO1xyXG5pbXBvcnQgeyBhdXRoZW50aWNhdGUgfSBmcm9tIFwiY29udHJvbGxlcnMvYXV0aFwiO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlUG9zdChyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkge1xyXG4gIGNvbnN0IHsgZW1haWwsIGNvZGUgfSA9IHJlcS5ib2R5O1xyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGF1dGhlbnRpY2F0ZShlbWFpbCwgY29kZSk7XHJcbiAgcmVzLnNlbmQocmVzdWx0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlT3B0aW9ucyhyZXEsIHJlcykge1xyXG4gIHJlcy5zZW5kKDIwMCk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IG1ldGhvZHMoe1xyXG4gIHBvc3Q6IGhhbmRsZVBvc3QsXHJcbiAgb3B0aW9uczogaGFuZGxlT3B0aW9ucyxcclxufSk7XHJcbiJdLCJuYW1lcyI6WyJtZXRob2RzIiwiYXV0aGVudGljYXRlIiwiaGFuZGxlUG9zdCIsInJlcSIsInJlcyIsImVtYWlsIiwiY29kZSIsImJvZHkiLCJyZXN1bHQiLCJzZW5kIiwiaGFuZGxlT3B0aW9ucyIsInBvc3QiLCJvcHRpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/token.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/auth/token.ts"));
module.exports = __webpack_exports__;

})();